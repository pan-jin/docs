# 类(上)



### 1.类的定义和实例化

```dart
//定义一个Dart类,dart中所有的类都继承于Object
class Person {
  //类的属性
  String name;
  int age;

  //类的方法
  void getInfo() {
    print("我是$name,age is $age");
  }
}

void main(List<String> args) {
  //实例化类然后得到一个对象
  var zhangsan = Person();
  //类中的属性赋值
  zhangsan.name = "张三";
  zhangsan.age = 20;
  //调用类中方法
  zhangsan.getInfo();
}
```



### 2.普通构造函数

默认构造函数与类同名，当对类进行实例化操作时自动被调用。

```dart
class Point {
  num x;
  num y;
  //普通构造函数 实例化时第一个被调用
  //写法1：
  Point() {
    print("普通构造函数被调用了");
    //构造函数中给属性赋值(此时赋值是默认值)
    //此时属性赋值省略了this 关键词 当命名有歧义时不能省略this
    x = 1;
    y = 0;
  }
  //普通构造函数写法2：
  Point(num x, num y) {
    this.x = x;
    this.y = y;
  }
  //普通构造函数写法3：
  Point(this.x, this.y);
  
}


void main(List<String> args) {
  var p = Point();
  print(p.x);
  print(p.y);
}
```



### 3.命名构造函数

命名构造函数写法:类名.函数名

命名构造函数可以实现多个构造器  提供额为的清晰度

```dart
//命名构造函数

class Point {
  num x;
  num y;

  //命名构造函数
  Point.origin() {
    x = 0;
    y = 0;
  }

  //命名构造函数
  Point.fromJson({x: 0, y: 0}) {
    this.x = x;
    this.y = y;
  }
}

void main(List<String> args) {
  //命名构造函数的使用
  Point p1 = Point.origin();
  print(p1.x);
  print(p1.y);

  Point p2 = Point.fromJson(x: 9, y: 10);
  print(p2.x);
  print(p2.y);
}

```





### 4. 常量构造函数

如果类生成的对象不会改变，可以通过常量构造函数使这些对象成为编译时常量

```dart
//常量构造函数
class Point {
  //属性必须通过final来声明
  final num x;
  final num y;

  //常量构造函数必须通过const 来声明
  const Point(this.x, this.y);
}

void main(List<String> args) {
  var p1 = const Point(1, 2);
  var p2 = const Point(1, 2);
  print(p1 == p2);
}

```



### 5.工厂构造函数

工厂构造函数不会自动生成实例而是通过代码决定返回的实例

